/* Windows 7 32-bit Chrome and IE11 Compatibility Fixes */

/* Older Chrome versions (39+) and IE11 Flexbox fixes */
@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
  /* Fix flexbox issues */
  .flex {
    display: -ms-flexbox !important;
    display: flex !important;
  }
  
  .flex-1 {
    -ms-flex: 1 1 0% !important;
    flex: 1 1 0% !important;
  }
  
  .flex-col {
    -ms-flex-direction: column !important;
    flex-direction: column !important;
  }
  
  .flex-row {
    -ms-flex-direction: row !important;
    flex-direction: row !important;
  }
  
  .justify-center {
    -ms-flex-pack: center !important;
    justify-content: center !important;
  }
  
  .justify-between {
    -ms-flex-pack: justify !important;
    justify-content: space-between !important;
  }
  
  .items-center {
    -ms-flex-align: center !important;
    align-items: center !important;
  }
  
  .items-start {
    -ms-flex-align: start !important;
    align-items: flex-start !important;
  }
  
  /* Form input fixes */
  input, textarea, select {
    -ms-box-sizing: border-box;
    box-sizing: border-box;
  }
  
  /* Button fixes */
  button {
    background: none;
    border: 1px solid #ccc;
  }
  
  /* Grid fallbacks */
  .grid {
    display: block;
  }
  
  .grid-cols-1 > *,
  .grid-cols-2 > * {
    display: inline-block;
    vertical-align: top;
    width: 100%;
    margin-bottom: 1rem;
  }
  
  .grid-cols-2 > * {
    width: calc(50% - 0.5rem);
    margin-right: 0.5rem;
  }
  
  .grid-cols-2 > *:nth-child(2n) {
    margin-right: 0;
  }
}

/* General fixes for older browsers */
* {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

/* Ensure proper font rendering */
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Fix for missing object-fit support */
.object-cover {
  object-fit: cover;
  /* Fallback for IE */
  font-family: 'object-fit: cover;';
}

/* CSS Variables fallback - define common colors */
:root {
  --primary-color: #3b82f6;
  --secondary-color: #6b7280;
  --success-color: #10b981;
  --error-color: #ef4444;
  --warning-color: #f59e0b;
}

/* Fallback for browsers that don't support CSS variables */
.bg-blue-500 { background-color: #3b82f6; }
.bg-gray-500 { background-color: #6b7280; }
.bg-green-500 { background-color: #10b981; }
.bg-red-500 { background-color: #ef4444; }
.bg-yellow-500 { background-color: #f59e0b; }

.text-blue-500 { color: #3b82f6; }
.text-gray-500 { color: #6b7280; }
.text-green-500 { color: #10b981; }
.text-red-500 { color: #ef4444; }
.text-yellow-500 { color: #f59e0b; }

/* Fix for missing transform support */
.transform {
  -webkit-transform: translate3d(0,0,0);
  -moz-transform: translate3d(0,0,0);
  -ms-transform: translate3d(0,0,0);
  transform: translate3d(0,0,0);
}

/* Fix for missing transition support */
.transition {
  -webkit-transition: all 0.15s ease-in-out;
  -moz-transition: all 0.15s ease-in-out;
  -ms-transition: all 0.15s ease-in-out;
  transition: all 0.15s ease-in-out;
}

/* Specific fixes for older Chrome versions (39-49) on 32-bit Windows 7 */
@supports not (display: grid) {
  .grid {
    display: block !important;
  }
  
  .grid > * {
    display: inline-block;
    vertical-align: top;
    width: 100%;
    margin-bottom: 1rem;
  }
}

/* Force compatibility mode for very old Chrome */
.compatibility-mode {
  /* Avoid modern CSS that might break in old Chrome */
  background-attachment: scroll !important;
  will-change: auto !important;
}

/* Chrome 39-48 specific fixes */
@media all and (-webkit-min-device-pixel-ratio:0) and (min-resolution: .001dpcm) {
  /* Old Chrome flexbox prefix support */
  .flex {
    display: -webkit-box;
    display: -webkit-flex;
    display: flex;
  }
  
  .flex-1 {
    -webkit-box-flex: 1;
    -webkit-flex: 1 1 0%;
    flex: 1 1 0%;
  }
  
  .justify-center {
    -webkit-box-pack: center;
    -webkit-justify-content: center;
    justify-content: center;
  }
  
  .items-center {
    -webkit-box-align: center;
    -webkit-align-items: center;
    align-items: center;
  }
}